

<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Convert</title>
  <meta name="description" content="Convert one unit to another">
  <meta name="author" content="SitePoint">

  <meta property="og:title" content="Converter">
  <meta property="og:type" content="website">
  <meta property="og:url" content=" ">
  <meta property="og:description" content="Convert one unit to another">
  <meta property="og:image" content="image.png">

  <link rel="icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="57x57" href="img/apple-icon-57x57.png" />
  <link rel="apple-touch-icon" sizes="72x72" href="img/apple-icon-72x72.png" />
  <link rel="apple-touch-icon" sizes="114x114" href="img/apple-icon-114x114.png" />
  <link rel="apple-touch-icon" sizes="144x144" href="img/apple-icon-144x144.png" />

  <link href="css/bootstrap3.min.css" rel="stylesheet" type="text/css" media="all"/>
  <script src="js/jquery-3.2.1.min.js"></script>
  <script src="js/bootstrap3.min.js"></script>

  <style>
body {
  margin: 0;
  padding: 0;
}
.maxwidth{
  max-width: 200px !important;
}
.maxwidthp{
  max-width: 120px !important;
}
.jumbotron {
  padding-top: 10px !important;
  padding-bottom: 10px !important;
}
  </style>
</head>

<body>
  <div class="jumbotron text-center">
    <h3 style="color:red;">Convert</h3>
  </div>
  
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <h4 style="color:red;">Volts<>Watts<>dBm</h4>
        <p></p>
        <form class="form-inline">
          <div class="form-group form-group-sm">
            <label for="volts" style="color:blue;">  Volts(PtP):</label>
            <input type="number" class="form-control maxwidth" id="volts">
          </div>
          <div class="form-group form-group-sm">
            <label for="watts" style="color:blue;">Watts:</label>
            <input type="number" class="form-control maxwidth" id="watts">
          </div>
          <div class="form-group form-group-sm">
            <label for="dbm" style="color:blue;">dBm:</label>
            <input type="number" class="form-control maxwidth" id="dbm">
          </div>
          <!-- <div class="checkbox">
            <label><input type="checkbox"> Remember me</label>
          </div> -->
          &nbsp; &nbsp;
          <button type="button" style="color:blue;" onclick="convert()" class="btn btn-default">Convert</button>
          &nbsp; 
          <button type="button" style="color:blue;" onclick="clear1()" class="btn btn-default">Clear</button>
         </form>
      </div>
      <div style="margin-top: 40px;" class="col-sm-12">
        <h4 style="color:red;">milliVolts<>microTesla (using Beehive Probe)</h4>
        <p></p>
        <form class="form-inline">
          <div class="form-group form-group-sm">
            <label for="mvolts" style="color:blue;">milliVolts(PtP):</label>
            <input type="number" class="form-control maxwidth" id="mvolts">
          </div>
          <div class="form-group form-group-sm">
            <label for="utesla" style="color:blue;">microTesla:</label>
            <input type="number" class="form-control maxwidth" id="utesla">
          </div>
          <!-- <div class="checkbox">
            <label><input type="checkbox"> Remember me</label>
          </div> -->
          &nbsp; &nbsp;
          <button type="button" style="color:blue;" onclick="convert1()" class="btn btn-default">Convert</button>
          &nbsp; 
          <button type="button" style="color:blue;" onclick="clear2()" class="btn btn-default">Clear</button>
         </form>
      </div>
      <div style="margin-top: 40px;" class="col-sm-12">
        <h4 style="color:red;">Path Loss Calculator</h4>
        <p></p>
        <form class="form-inline">
          <div class="form-group form-group-sm">
            <label for="txpower" style="min-width:125px;color:blue;">Tx Power(dBm):</label>
            <input type="number" class="form-control maxwidthp" id="txpower">
          </div>
          <div class="form-group form-group-sm">
            <label style="min-width:125px; color:blue;" for="txgain" >Tx Ant. Gain (dBi):</label>
            <input type="number" class="form-control maxwidthp" id="txgain">
          </div>
          <div class="form-group form-group-sm">
            <label for="txfreq" style="min-width:125px;color:blue;">Frequency(MHz):</label>
            <input type="number" class="form-control maxwidthp" id="txfreq">
          </div>
          <div class="form-group form-group-sm">
            <label for="distance" style="min-width:125px; color:blue;">Distance(Meters):</label>
            <input type="number" class="form-control maxwidthp" id="distance">
          </div>
          <div class="form-group form-group-sm">
            <label for="rxgain" style="min-width:125px;color:blue;">Rx Ant. Gain (dBi):</label>
            <input type="number" class="form-control maxwidthp" id="rxgain">
          </div>
        </form>
      </div>
      <div style="margin-top: 0px;" class="col-sm-12">
        <form class="form-inline">
          <div class="form-group form-group-sm">
              <label for="rxpower" style="min-width:125px;color:red;">Rx Power (dBm):</label>
              <input type="number" class="form-control maxwidthp" id="rxpower">
          </div>
          <div class="form-group form-group-sm">
            <button type="button" style="color:blue;" onclick="convert2()" class="btn btn-default">Convert</button> 
            <button type="button" style="color:blue;" onclick="clear3()" class="btn btn-default">Clear</button>
          </div>
        </form>
      </div>

      <div style="margin-top: 40px;" class="col-sm-12">
        <div style= "display:inline-block;">
        <h4 style="color:red;">Free Space Path Loss Calculator</h4>
        <h5 style="color:blue;"> FSPL(dB) = 32.45 + 20Log(MHz) + 20Log(km)</h5>
      </div>
        <p></p>
        <form class="form-inline">
          <div class="form-group form-group-sm">
            <label for="txfreqa" style="min-width:125px;color:blue;">Frequency(MHz):</label>
            <input type="number" class="form-control maxwidthp" id="txfreqa">
          </div>
          <div class="form-group form-group-sm">
            <label for="distancea" style="min-width:125px; color:blue;">Distance(km):</label>
            <input type="number" class="form-control maxwidthp" id="distancea">
          </div>
        </form>
      </div>
      <div style="margin-top: 0px;" class="col-sm-12">
        <form class="form-inline">
          <div class="form-group form-group-sm">
            <label for="lossa" style="min-width:125px;color:red;">Loss (dB):</label>
            <input type="number" class="form-control maxwidthp" id="lossa">
         </div>
          <div class="form-group form-group-sm">
            <button type="button" style="color:blue;" onclick="convert2a()" class="btn btn-default">Convert</button> 
            <button type="button" style="color:blue;" onclick="clear2a()" class="btn btn-default">Clear</button>
          </div>
        </form>
      </div>


      <div style="margin-top: 40px;" class="col-sm-12">
        <h4 style="color:red;">Freq<>C<>L</h4>
        <p></p>
        <form class="form-inline">
          <div class="form-group form-group-sm">
            <label for="mhz" style="color:blue;">  Frequency(MHz):</label>
            <input type="number" class="form-control maxwidth" id="mhz">
          </div>
          <div class="form-group form-group-sm">
            <label for="pf" style="color:blue;">C(pf):</label>
            <input type="number" class="form-control maxwidth" id="pf">
          </div>
          <div class="form-group form-group-sm">
            <label for="nh" style="color:blue;">L(nH):</label>
            <input type="number" class="form-control maxwidth" id="nh">
          </div>
          <!-- <div class="checkbox">
            <label><input type="checkbox"> Remember me</label>
          </div> -->
          &nbsp; &nbsp;
          <button type="button" style="color:blue;" onclick="convert_fcl()" class="btn btn-default">Convert</button>
          &nbsp; 
          <button type="button" style="color:blue;" onclick="clear_fcl()" class="btn btn-default">Clear</button>
         </form>
      </div>

    </div> 
  </div>



    <script>
      var volts_present=false;
      var watts_present=false;
      var dbm_present=false;
      var mvolts_present=false;
      var utesla_present=false;
      var mhz_present = false;
      var nh_present = false;
      var pf_present = false;

      $.fn.enterKey = function (fnc) {
        return this.each(function () {
            $(this).keypress(function (ev) {
                var keycode = (ev.keyCode ? ev.keyCode : ev.which);
                if (keycode == '13') {
                    fnc.call(this, ev);
                }
            })
        })
      }

      $(document).ready(function() {

        console.log("ready!");
        $("#txpower").val("0");
          $("#txgain").val("21");
          $("#txfreq").val("5650");
          $("#rxgain").val("21");
          $("#distance").val("");
          $("#rxpower").val("");
          $("#mhz").val("");
          $("#pf").val("");
          $("#nh").val("");
          $("#txfreqa").val("12000");
          $("#distancea").val("35786");
      })

      function convert(){
        console.log("Convert button clicked!");
        //$('#dbm').val("00");
        if ($('#volts').val().length != 0) {
          var volts = $("#volts").val();
          if($.isNumeric(volts)) volts_present=true; else volts_present=false;
        }else volts_present=false;
        if ($('#watts').val().length != 0) {
          var watts = $("#watts").val();
          if($.isNumeric(watts)) watts_present=true; else watts_present=false;
        } else watts_present=false;
        if ($('#dbm').val().length != 0) {
          var dbm = $("#dbm").val();
          if($.isNumeric(dbm)) dbm_present=true; else dbm_present=false;
        }else dbm_present=false;
        
        if(volts_present){
          var voltspeak = parseFloat($("#volts").val()/2.0);
          var voltsrms = parseFloat(voltspeak / Math.sqrt(2));
          var watts = parseFloat((voltsrms*voltsrms)/50.0);
          var dbw = 10*Math.log10(watts);
          var dbm = dbw+30;
          watts = Number(watts).toFixed(4);
          dbm = Number(dbm).toFixed(2);
          $('#dbm').val(dbm);
          $('#watts').val(watts);
        }
        else if(watts_present){
          var watts = parseFloat($("#watts").val());
          var dbw = 10*Math.log10(watts);
          var dbm = dbw+30;
          var voltsrms = parseFloat(Math.sqrt(watts*50))
          var voltspeak = parseFloat(voltsrms * Math.sqrt(2));
          var volts = parseFloat(voltspeak*2);
          dbm = Number(dbm).toFixed(2);
          volts = Number(volts).toFixed(4);
          $('#dbm').val(dbm);
          $('#volts').val(volts);
        }
        else if(dbm_present){
          var dbm = parseFloat($("#dbm").val());
          var dbw = parseFloat(dbm-30);
          var dbw_div10 = parseFloat(dbw/10);
          var watts = Math.pow(10,dbw_div10);
          var voltsrms = parseFloat(Math.sqrt(watts*50))
          var voltspeak = parseFloat(voltsrms * Math.sqrt(2));
          var volts = parseFloat(voltspeak*2);
          watts = Number(watts).toFixed(4);
          volts = Number(volts).toFixed(4);
          $('#watts').val(watts);
          $('#volts').val(volts);
        }
      }

      function clear1(){
          console.log("Clear button clicked!");
          $("#volts").val("");
          $("#watts").val("");
          $("#dbm").val("");
        }





      $("#volts").enterKey(function () {
        console.log('volts entered');
        $("#watts").val("");
        $("#dbm").val("");
        convert();
     })

     $("#dbm").enterKey(function () {
        console.log('dbm entered');
        $("#watts").val("");
        $("#volts").val("");
        convert();
     })

     $("#watts").enterKey(function () {
      console.log('watts entered');
      $("#volts").val("");
      $("#dbm").val("");
      convert();
     })

     function convert1(){
        console.log("Convert1 button clicked!");
        if ($('#mvolts').val().length != 0) {
          var mvolts = $("#mvolts").val();
          if($.isNumeric(mvolts)) mvolts_present=true; else mvolts_present=false;
        }else mvolts_present=false;
        if ($('#utesla').val().length != 0) {
          var utesla = $("#utesla").val();
          if($.isNumeric(utesla)) utesla_present=true; else utesla_present=false;
        } else utesla_present=false;
        // dbM = X + 20Log10(B) + 20log10(F)  X = 64.35 F in MHZ B in Tesla
        if(mvolts_present){
          var mvoltspeak = parseFloat($("#mvolts").val()/2.0);
          var voltspeak = parseFloat(mvoltspeak/1000);
          var voltsrms = parseFloat(voltspeak / Math.sqrt(2));
          var watts = parseFloat((voltsrms*voltsrms)/50.0);
          var dbw = parseFloat(10*Math.log10(watts));
          var dbm = parseFloat(dbw+30);
          var X = parseFloat(64.35);
          twentylogTesla = dbm-X-20*Math.log10(27.12);
          var tesla =  Math.pow(10,(twentylogTesla/20));
          var utesla = tesla*1000000;
          utesla = Number(utesla).toFixed(4);
          $('#utesla').val(utesla);
        }
        else if(utesla_present){
          var X = parseFloat(64.35);
          var tesla = parseFloat($("#utesla").val()/1000000);
          var dbm = X + 20*Math.log10(tesla)+ 20*Math.log10(27.12);
          var dbw = parseFloat(dbm-30);
          var dbw_div10 = parseFloat(dbw/10);
          var watts = Math.pow(10,dbw_div10);
          var voltsrms = parseFloat(Math.sqrt(watts*50))
          var voltspeak = parseFloat(voltsrms * Math.sqrt(2));
          var voltsp2p = parseFloat(voltspeak*2);
          var mvolts = voltsp2p*1000;
          mvolts = Number(mvolts).toFixed(4);
          $('#mvolts').val(mvolts);
        }

     }
    
     $("#mvolts").enterKey(function () {
        console.log('mvolts entered');
        $("#utesla").val("");
        convert1();
     })

     $("#utesla").enterKey(function () {
        console.log('utesla entered');
        $("#mvolts").val("");
        convert1();
     })


     function clear2(){
          console.log("Clear2 button clicked!");
          $("#mvolts").val("");
          $("#utesla").val("");
    }


    function convert2(){

        console.log("Convert2 button clicked!");
        if ($('#txpower').val().length != 0 && $('#txgain').val().length != 0 &&
            $('#txfreq').val().length != 0 && $('#rxgain').val().length != 0 &&
            $('#distance').val().length != 0){
            var txpower = parseFloat($("#txpower").val());
            var txgain = parseFloat($("#txgain").val());
            var txfreq = parseFloat($("#txfreq").val());
            var rxgain = parseFloat($("#rxgain").val());
            var distance = parseFloat($("#distance").val());
            var lambda = parseFloat(parseFloat(2.99792458*100)/parseFloat(txfreq*1));
            var rxpower = parseFloat(txpower+txgain+rxgain+(20*Math.log10(lambda/parseFloat(4*Math.PI*distance))));
            rxpower = Number(rxpower).toFixed(2);
            $('#rxpower').val(rxpower);
        }     
    }

    function clear2a(){
          console.log("Clear2a button clicked!");
          $("#txfreqa").val("");
          $("#distancea").val("");
          $("#lossa").val("");
    }

    function convert2a(){
        console.log("Convert2a button clicked!");
        if ($('#txfreqa').val().length != 0 && $('#distancea').val().length != 0){
            var txfreqa = parseFloat($("#txfreqa").val());
            var distancea = parseFloat($("#distancea").val());
            var lossa = parseFloat( 32.45 + 20*Math.log10(txfreqa) + 20*Math.log10(distancea));
            lossa = Number(lossa).toFixed(2);
            $('#lossa').val(lossa);
        }
        }
        

    function clear3(){
          console.log("Clear3 button clicked!");
          $("#txpower").val("");
          $("#txgain").val("");
          $("#txfreq").val("");
          $("#rxgain").val("");
          $("#distance").val("");
          $("#rxpower").val("");
    }


    function clear_fcl(){
          console.log("Clear button clicked!");
          $("#mhz").val("");
          $("#pf").val("");
          $("#nh").val("");
        }

      $("#mhz").enterKey(function () {
        console.log('mhz entered');
        $("#nh").val("");
        $("#pf").val("");
        convert_fcl();
     })

     $("#pf").enterKey(function () {
        console.log('pf entered');
        $("#mhz").val("");
        $("#nh").val("");
        convert_fcl();
     })

     $("#nh").enterKey(function () {
      console.log('nh entered');
      $("#pf").val("");
      $("#mhz").val("");
      convert_fcl();
     })


     function convert_fcl(){
        console.log("Convert_fcl button clicked!");
        //$('#dbm').val("00");
        if ($('#mhz').val().length != 0) {
          var mhz = $("#mhz").val();
          if($.isNumeric(mhz)) mhz_present=true; else mhz_present=false;
        }else mhz_present=false;
        if ($('#pf').val().length != 0) {
          var pf = $("#pf").val();
          if($.isNumeric(pf)) pf_present=true; else pf_present=false;
        } else pf_present=false;
        if ($('#nh').val().length != 0) {
          var nh = $("#nh").val();
          if($.isNumeric(nh)) nh_present=true; else nh_present=false;
        }else nh_present=false;
        
        if(mhz_present && pf_present){
          var hz = parseFloat($("#mhz").val()* Math.pow(10,6));
          var f = parseFloat($("#pf").val()* Math.pow(10,-12));
          var h = parseFloat(1/(2*Math.PI*hz*Math.sqrt(f)));
          h = h*h;
          var nh = Number(h * Math.pow(10,9)).toFixed(2);
          $('#nh').val(nh);
        }
        else if(pf_present && nh_present){
          var n = parseFloat($("#nh").val()* Math.pow(10,-9));
          var f = parseFloat($("#pf").val()* Math.pow(10,-12));
          var hz = parseFloat(1/(2*Math.PI*Math.sqrt(n)*Math.sqrt(f)));
          hz = Number(hz *  Math.pow(10,-6)).toFixed(2);
          $('#mhz').val(hz);
        }
        else if(nh_present && mhz_present){
          var hz = parseFloat($("#mhz").val()* Math.pow(10,6));
          var h = parseFloat($("#nh").val()* Math.pow(10,-9));
          var f = parseFloat(1/(2*Math.PI*hz*Math.sqrt(h)));
          f = f*f;
          var pf = Number(f * Math.pow(10,12)).toFixed(2);
          $('#pf').val(pf);
        }
      }

  </script>
</body>
</html>